{
    "$schema": "http://json-schema.org/draft-07/schema",

    "type":"object",
    "properties": {
        "$schema":{"type":"string"},
        "filmId":{
            "type":"integer"
        },
        "reviewerId":{
            "type":"integer"
        },
        "completed":{
            "type":"boolean",
            "default":"false"
        },
        "reviewDate":{
            "type":"string",
            "format": "date"
        },
        "rating":{
            "type":"integer",
            "minimum": 0,
            "maximum": 10
        },
        "review":{
            "type":"string",
            "maxLength": 1000
        }
    },
    "dependencies": {
        "reviewDate":{
            "properties": {
                "completed":{"const":true}
            }
        },
        "rating":{
            "properties": {
                "completed":{"const":true}
            }
        },
        "review":{
            "properties": {
                "completed":{"const":true}
            }
        },
        "if" : {
            "properties": {
                "completed": {"const":true}
            }
        },
        "then":{
            "required": ["filmId","reviewerId","completed","reviewDate","rating","review"]
        },
        "else":{
            "required":["filmId","reviewerId","completed"]
        }
    },
    "additionalProperties":false
}